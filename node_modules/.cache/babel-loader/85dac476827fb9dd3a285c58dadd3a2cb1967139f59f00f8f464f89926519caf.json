{"ast":null,"code":"var _jsxFileName = \"C:\\\\SihApplication\\\\civic issue appp\\\\civic-issue-app\\\\src\\\\components\\\\OfficialPublicPortal.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, useMap } from 'react-leaflet';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport { fetchIssues, updateIssueStatus } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst statusBackendToFront = status => {\n  switch ((status || '').toLowerCase()) {\n    case 'resolved':\n      return 'completed';\n    case 'in progress':\n      return 'in_progress';\n    case 'open':\n    default:\n      return 'not_completed';\n  }\n};\nconst statusFrontToBackend = status => {\n  switch (status) {\n    case 'completed':\n      return 'Resolved';\n    case 'in_progress':\n      return 'In Progress';\n    default:\n      return 'Open';\n  }\n};\nconst getTypeColor = type => {\n  const key = (type || '').toLowerCase();\n  if (key.includes('pothole')) return '#e63946';\n  if (key.includes('waste') || key.includes('garbage')) return '#2a9d8f';\n  if (key.includes('street') || key.includes('light')) return '#f4a261';\n  if (key.includes('water')) return '#457b9d';\n  if (key.includes('road')) return '#8d99ae';\n  return '#3a86ff';\n};\nconst createTypeIcon = type => {\n  const color = getTypeColor(type);\n  return L.divIcon({\n    className: 'custom-div-icon',\n    html: `<div style=\"width:14px;height:14px;border-radius:50%;background:${color};border:2px solid #fff;box-shadow:0 0 0 2px rgba(0,0,0,.2)\"></div>`,\n    iconSize: [14, 14],\n    iconAnchor: [7, 7]\n  });\n};\nconst MapController = ({\n  center\n}) => {\n  _s();\n  const map = useMap();\n  React.useEffect(() => {\n    if (center) {\n      map.setView([center.lat, center.lng], Math.max(map.getZoom(), 14));\n    }\n  }, [center, map]);\n  return null;\n};\n_s(MapController, \"IoceErwr5KVGS9kN4RQ1bOkYMAg=\", false, function () {\n  return [useMap];\n});\n_c = MapController;\nconst OfficialPublicPortal = () => {\n  _s2();\n  var _selected$location, _filtered$, _filtered$$location, _selected$location2;\n  const [issues, setIssues] = React.useState([]);\n  const [filtered, setFiltered] = React.useState([]);\n  const [selected, setSelected] = React.useState(null);\n  const [typeFilter, setTypeFilter] = React.useState('all');\n  const [statusFilter, setStatusFilter] = React.useState('all');\n  const [loading, setLoading] = React.useState(false);\n  const [error, setError] = React.useState(null);\n  const fetchFromBackend = async () => {\n    try {\n      const res = await fetch('/api/issues', {\n        headers: {\n          'Accept': 'application/json'\n        }\n      });\n      if (!res.ok) throw new Error('Backend fetch failed');\n      const data = await res.json();\n      const mapped = data.map(b => {\n        var _b$location, _b$location2;\n        return {\n          id: String(b.id),\n          title: b.title,\n          description: b.description,\n          category: 'other',\n          priority: 'medium',\n          status: statusBackendToFront(b.status),\n          rewardPoints: 0,\n          location: {\n            address: b.address || 'Unknown',\n            coordinates: {\n              lat: ((_b$location = b.location) === null || _b$location === void 0 ? void 0 : _b$location.lat) || 0,\n              lng: ((_b$location2 = b.location) === null || _b$location2 === void 0 ? void 0 : _b$location2.lng) || 0\n            }\n          },\n          images: b.photos || [],\n          reporterId: b.reportedBy || 'unknown',\n          reporterName: b.reportedBy || 'Unknown',\n          createdAt: b.date ? new Date(b.date) : new Date(),\n          updatedAt: b.date ? new Date(b.date) : new Date(),\n          comments: [],\n          tags: [b.type],\n          upvotes: 0,\n          downvotes: 0,\n          isPublic: true\n        };\n      });\n      return mapped;\n    } catch (e) {\n      throw e;\n    }\n  };\n  const load = React.useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      // Try backend first\n      let result;\n      try {\n        result = await fetchFromBackend();\n      } catch {\n        result = await fetchIssues();\n      }\n      setIssues(result);\n    } catch (e) {\n      setError('Failed to load issues');\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  React.useEffect(() => {\n    load();\n  }, [load]);\n  React.useEffect(() => {\n    let cur = [...issues];\n    if (typeFilter !== 'all') {\n      cur = cur.filter(i => (i.tags || []).some(t => t.toLowerCase().includes(typeFilter.toLowerCase())));\n    }\n    if (statusFilter !== 'all') {\n      cur = cur.filter(i => i.status === statusFilter);\n    }\n    setFiltered(cur);\n  }, [issues, typeFilter, statusFilter]);\n  const center = (selected === null || selected === void 0 ? void 0 : (_selected$location = selected.location) === null || _selected$location === void 0 ? void 0 : _selected$location.coordinates) || ((_filtered$ = filtered[0]) === null || _filtered$ === void 0 ? void 0 : (_filtered$$location = _filtered$.location) === null || _filtered$$location === void 0 ? void 0 : _filtered$$location.coordinates) || {\n    lat: 20.5937,\n    lng: 78.9629\n  };\n  const cycleStatus = async issue => {\n    const next = issue.status === 'not_completed' ? 'in_progress' : issue.status === 'in_progress' ? 'completed' : 'not_completed';\n    try {\n      const updated = await updateIssueStatus(issue.id, next);\n      setIssues(prev => prev.map(i => i.id === issue.id ? updated : i));\n      setSelected(s => s && s.id === issue.id ? updated : s);\n    } catch {\n      // noop\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'grid',\n      gridTemplateColumns: '380px 1fr',\n      gap: 16,\n      height: '70vh'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        overflow: 'hidden',\n        borderRadius: 8,\n        border: '1px solid var(--border)',\n        display: 'flex',\n        flexDirection: 'column'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: 12,\n          borderBottom: '1px solid var(--border)',\n          display: 'flex',\n          gap: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          value: typeFilter,\n          onChange: e => setTypeFilter(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"All Types\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"pothole\",\n            children: \"Pothole\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"waste\",\n            children: \"Waste\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"streetlight\",\n            children: \"Streetlight\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"water\",\n            children: \"Water\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"road\",\n            children: \"Road\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: statusFilter,\n          onChange: e => setStatusFilter(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"All Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"not_completed\",\n            children: \"Open\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"in_progress\",\n            children: \"In Progress\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"completed\",\n            children: \"Resolved\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: load,\n          disabled: loading,\n          children: loading ? 'Loading…' : 'Reload'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          overflowY: 'auto',\n          padding: 12,\n          flex: 1\n        },\n        children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-state\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 50\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 21\n        }, this), filtered.map(issue => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"issue-card\",\n          style: {\n            cursor: 'pointer',\n            marginBottom: 12\n          },\n          onClick: () => setSelected(issue),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"issue-card-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"issue-title-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"issue-title\",\n                style: {\n                  marginBottom: 4\n                },\n                children: issue.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"issue-meta\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: issue.location.address\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"issue-status-badges\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `status-badge ${issue.status === 'completed' ? 'status-resolved' : issue.status === 'in_progress' ? 'status-acknowledged' : 'status-pending'}`,\n                children: issue.status === 'completed' ? 'Resolved' : issue.status === 'in_progress' ? 'In Progress' : 'Open'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this), (selected === null || selected === void 0 ? void 0 : selected.id) === issue.id && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"issue-description\",\n              children: issue.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 6,\n                fontSize: 12,\n                color: 'var(--muted)'\n              },\n              children: issue.location.address\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 19\n            }, this), issue.images && issue.images.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: 8,\n                marginTop: 8,\n                flexWrap: 'wrap'\n              },\n              children: issue.images.slice(0, 4).map((img, idx) => /*#__PURE__*/_jsxDEV(\"img\", {\n                src: img,\n                alt: `photo-${idx}`,\n                style: {\n                  width: 72,\n                  height: 72,\n                  objectFit: 'cover',\n                  borderRadius: 6\n                }\n              }, idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 10,\n                display: 'flex',\n                gap: 8\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn\",\n                onClick: () => cycleStatus(issue),\n                children: \"Next Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"btn\",\n                href: `/issues/${issue.id}`,\n                children: \"View Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 17\n          }, this)]\n        }, issue.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }, this)), filtered.length === 0 && !loading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-state\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No issues found.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 42\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: '100%',\n        borderRadius: 8,\n        overflow: 'hidden',\n        border: '1px solid var(--border)'\n      },\n      children: /*#__PURE__*/_jsxDEV(MapContainer, {\n        center: [center.lat, center.lng],\n        zoom: 13,\n        style: {\n          height: '100%',\n          width: '100%'\n        },\n        scrollWheelZoom: true,\n        children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n          attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",\n          url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MapController, {\n          center: selected === null || selected === void 0 ? void 0 : (_selected$location2 = selected.location) === null || _selected$location2 === void 0 ? void 0 : _selected$location2.coordinates\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this), filtered.map(issue => /*#__PURE__*/_jsxDEV(Marker, {\n          position: [issue.location.coordinates.lat, issue.location.coordinates.lng],\n          icon: createTypeIcon(issue.tags && issue.tags[0] || ''),\n          eventHandlers: {\n            click: () => setSelected(issue)\n          },\n          children: /*#__PURE__*/_jsxDEV(Popup, {\n            children: issue.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 15\n          }, this)\n        }, issue.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 165,\n    columnNumber: 5\n  }, this);\n};\n_s2(OfficialPublicPortal, \"zO6BtM1uhTi6v8lIKuPoqLFpy2k=\");\n_c2 = OfficialPublicPortal;\nexport default OfficialPublicPortal;\nvar _c, _c2;\n$RefreshReg$(_c, \"MapController\");\n$RefreshReg$(_c2, \"OfficialPublicPortal\");","map":{"version":3,"names":["React","MapContainer","TileLayer","Marker","Popup","useMap","L","fetchIssues","updateIssueStatus","jsxDEV","_jsxDEV","statusBackendToFront","status","toLowerCase","statusFrontToBackend","getTypeColor","type","key","includes","createTypeIcon","color","divIcon","className","html","iconSize","iconAnchor","MapController","center","_s","map","useEffect","setView","lat","lng","Math","max","getZoom","_c","OfficialPublicPortal","_s2","_selected$location","_filtered$","_filtered$$location","_selected$location2","issues","setIssues","useState","filtered","setFiltered","selected","setSelected","typeFilter","setTypeFilter","statusFilter","setStatusFilter","loading","setLoading","error","setError","fetchFromBackend","res","fetch","headers","ok","Error","data","json","mapped","b","_b$location","_b$location2","id","String","title","description","category","priority","rewardPoints","location","address","coordinates","images","photos","reporterId","reportedBy","reporterName","createdAt","date","Date","updatedAt","comments","tags","upvotes","downvotes","isPublic","e","load","useCallback","result","cur","filter","i","some","t","cycleStatus","issue","next","updated","prev","s","style","display","gridTemplateColumns","gap","height","children","overflow","borderRadius","border","flexDirection","padding","borderBottom","value","onChange","target","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","overflowY","flex","cursor","marginBottom","marginTop","fontSize","length","flexWrap","slice","img","idx","src","alt","width","objectFit","href","zoom","scrollWheelZoom","attribution","url","position","icon","eventHandlers","click","_c2","$RefreshReg$"],"sources":["C:/SihApplication/civic issue appp/civic-issue-app/src/components/OfficialPublicPortal.tsx"],"sourcesContent":["import React from 'react';\r\nimport { MapContainer, TileLayer, Marker, Popup, useMap } from 'react-leaflet';\r\nimport L, { DivIcon } from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport { Issue, IssueStatus } from '../types';\r\nimport { fetchIssues, updateIssueStatus } from '../services/api';\r\n\r\ntype BackendIssue = {\r\n  id: string | number;\r\n  title: string;\r\n  description: string;\r\n  status: 'Open' | 'In Progress' | 'Resolved' | string;\r\n  type: string;\r\n  location: { lat: number; lng: number };\r\n  address?: string;\r\n  photos?: string[];\r\n  reportedBy?: string;\r\n  date?: string;\r\n};\r\n\r\nconst statusBackendToFront = (status: string): IssueStatus => {\r\n  switch ((status || '').toLowerCase()) {\r\n    case 'resolved':\r\n      return 'completed';\r\n    case 'in progress':\r\n      return 'in_progress';\r\n    case 'open':\r\n    default:\r\n      return 'not_completed';\r\n  }\r\n};\r\n\r\nconst statusFrontToBackend = (status: IssueStatus): 'Open' | 'In Progress' | 'Resolved' => {\r\n  switch (status) {\r\n    case 'completed':\r\n      return 'Resolved';\r\n    case 'in_progress':\r\n      return 'In Progress';\r\n    default:\r\n      return 'Open';\r\n  }\r\n};\r\n\r\nconst getTypeColor = (type: string): string => {\r\n  const key = (type || '').toLowerCase();\r\n  if (key.includes('pothole')) return '#e63946';\r\n  if (key.includes('waste') || key.includes('garbage')) return '#2a9d8f';\r\n  if (key.includes('street') || key.includes('light')) return '#f4a261';\r\n  if (key.includes('water')) return '#457b9d';\r\n  if (key.includes('road')) return '#8d99ae';\r\n  return '#3a86ff';\r\n};\r\n\r\nconst createTypeIcon = (type: string): DivIcon => {\r\n  const color = getTypeColor(type);\r\n  return L.divIcon({\r\n    className: 'custom-div-icon',\r\n    html: `<div style=\"width:14px;height:14px;border-radius:50%;background:${color};border:2px solid #fff;box-shadow:0 0 0 2px rgba(0,0,0,.2)\"></div>`,\r\n    iconSize: [14, 14],\r\n    iconAnchor: [7, 7]\r\n  });\r\n};\r\n\r\nconst MapController: React.FC<{ center?: { lat: number; lng: number } }>=({ center }) => {\r\n  const map = useMap();\r\n  React.useEffect(() => {\r\n    if (center) {\r\n      map.setView([center.lat, center.lng], Math.max(map.getZoom(), 14));\r\n    }\r\n  }, [center, map]);\r\n  return null;\r\n};\r\n\r\nconst OfficialPublicPortal: React.FC = () => {\r\n  const [issues, setIssues] = React.useState<Issue[]>([]);\r\n  const [filtered, setFiltered] = React.useState<Issue[]>([]);\r\n  const [selected, setSelected] = React.useState<Issue | null>(null);\r\n  const [typeFilter, setTypeFilter] = React.useState<string>('all');\r\n  const [statusFilter, setStatusFilter] = React.useState<IssueStatus | 'all'>('all');\r\n  const [loading, setLoading] = React.useState<boolean>(false);\r\n  const [error, setError] = React.useState<string | null>(null);\r\n\r\n  const fetchFromBackend = async (): Promise<Issue[]> => {\r\n    try {\r\n      const res = await fetch('/api/issues', { headers: { 'Accept': 'application/json' } });\r\n      if (!res.ok) throw new Error('Backend fetch failed');\r\n      const data: BackendIssue[] = await res.json();\r\n      const mapped: Issue[] = data.map((b) => ({\r\n        id: String(b.id),\r\n        title: b.title,\r\n        description: b.description,\r\n        category: 'other',\r\n        priority: 'medium',\r\n        status: statusBackendToFront(b.status),\r\n        rewardPoints: 0,\r\n        location: {\r\n          address: b.address || 'Unknown',\r\n          coordinates: { lat: b.location?.lat || 0, lng: b.location?.lng || 0 }\r\n        },\r\n        images: b.photos || [],\r\n        reporterId: b.reportedBy || 'unknown',\r\n        reporterName: b.reportedBy || 'Unknown',\r\n        createdAt: b.date ? new Date(b.date) : new Date(),\r\n        updatedAt: b.date ? new Date(b.date) : new Date(),\r\n        comments: [],\r\n        tags: [b.type],\r\n        upvotes: 0,\r\n        downvotes: 0,\r\n        isPublic: true,\r\n      }));\r\n      return mapped;\r\n    } catch (e) {\r\n      throw e;\r\n    }\r\n  };\r\n\r\n  const load = React.useCallback(async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      // Try backend first\r\n      let result: Issue[];\r\n      try {\r\n        result = await fetchFromBackend();\r\n      } catch {\r\n        result = await fetchIssues();\r\n      }\r\n      setIssues(result);\r\n    } catch (e) {\r\n      setError('Failed to load issues');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    load();\r\n  }, [load]);\r\n\r\n  React.useEffect(() => {\r\n    let cur = [...issues];\r\n    if (typeFilter !== 'all') {\r\n      cur = cur.filter(i => (i.tags || []).some(t => t.toLowerCase().includes(typeFilter.toLowerCase())));\r\n    }\r\n    if (statusFilter !== 'all') {\r\n      cur = cur.filter(i => i.status === statusFilter);\r\n    }\r\n    setFiltered(cur);\r\n  }, [issues, typeFilter, statusFilter]);\r\n\r\n  const center = selected?.location?.coordinates || filtered[0]?.location?.coordinates || { lat: 20.5937, lng: 78.9629 };\r\n\r\n  const cycleStatus = async (issue: Issue) => {\r\n    const next: IssueStatus = issue.status === 'not_completed' ? 'in_progress' : issue.status === 'in_progress' ? 'completed' : 'not_completed';\r\n    try {\r\n      const updated = await updateIssueStatus(issue.id, next);\r\n      setIssues(prev => prev.map(i => i.id === issue.id ? updated : i));\r\n      setSelected(s => s && s.id === issue.id ? updated : s);\r\n    } catch {\r\n      // noop\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ display: 'grid', gridTemplateColumns: '380px 1fr', gap: 16, height: '70vh' }}>\r\n      <div style={{ overflow: 'hidden', borderRadius: 8, border: '1px solid var(--border)', display: 'flex', flexDirection: 'column' }}>\r\n        <div style={{ padding: 12, borderBottom: '1px solid var(--border)', display: 'flex', gap: 8 }}>\r\n          <select value={typeFilter} onChange={(e) => setTypeFilter(e.target.value)}>\r\n            <option value=\"all\">All Types</option>\r\n            <option value=\"pothole\">Pothole</option>\r\n            <option value=\"waste\">Waste</option>\r\n            <option value=\"streetlight\">Streetlight</option>\r\n            <option value=\"water\">Water</option>\r\n            <option value=\"road\">Road</option>\r\n          </select>\r\n          <select value={statusFilter} onChange={(e) => setStatusFilter(e.target.value as any)}>\r\n            <option value=\"all\">All Status</option>\r\n            <option value=\"not_completed\">Open</option>\r\n            <option value=\"in_progress\">In Progress</option>\r\n            <option value=\"completed\">Resolved</option>\r\n          </select>\r\n          <button className=\"btn\" onClick={load} disabled={loading}>{loading ? 'Loading…' : 'Reload'}</button>\r\n        </div>\r\n        <div style={{ overflowY: 'auto', padding: 12, flex: 1 }}>\r\n          {error && <div className=\"empty-state\"><p>{error}</p></div>}\r\n          {filtered.map((issue) => (\r\n            <div key={issue.id} className=\"issue-card\" style={{ cursor: 'pointer', marginBottom: 12 }} onClick={() => setSelected(issue)}>\r\n              <div className=\"issue-card-header\">\r\n                <div className=\"issue-title-section\">\r\n                  <h3 className=\"issue-title\" style={{ marginBottom: 4 }}>{issue.title}</h3>\r\n                  <div className=\"issue-meta\">\r\n                    <span>{issue.location.address}</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"issue-status-badges\">\r\n                  <span className={`status-badge ${issue.status === 'completed' ? 'status-resolved' : issue.status === 'in_progress' ? 'status-acknowledged' : 'status-pending'}`}>\r\n                    {issue.status === 'completed' ? 'Resolved' : issue.status === 'in_progress' ? 'In Progress' : 'Open'}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              {selected?.id === issue.id && (\r\n                <div style={{ marginTop: 8 }}>\r\n                  <div className=\"issue-description\">{issue.description}</div>\r\n                  <div style={{ marginTop: 6, fontSize: 12, color: 'var(--muted)' }}>{issue.location.address}</div>\r\n                  {issue.images && issue.images.length > 0 && (\r\n                    <div style={{ display: 'flex', gap: 8, marginTop: 8, flexWrap: 'wrap' }}>\r\n                      {issue.images.slice(0, 4).map((img, idx) => (\r\n                        <img key={idx} src={img} alt={`photo-${idx}`} style={{ width: 72, height: 72, objectFit: 'cover', borderRadius: 6 }} />\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                  <div style={{ marginTop: 10, display: 'flex', gap: 8 }}>\r\n                    <button className=\"btn\" onClick={() => cycleStatus(issue)}>Next Status</button>\r\n                    <a className=\"btn\" href={`/issues/${issue.id}`}>View Details</a>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))}\r\n          {filtered.length === 0 && !loading && (\r\n            <div className=\"empty-state\"><p>No issues found.</p></div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div style={{ height: '100%', borderRadius: 8, overflow: 'hidden', border: '1px solid var(--border)' }}>\r\n        <MapContainer center={[center.lat, center.lng]} zoom={13} style={{ height: '100%', width: '100%' }} scrollWheelZoom>\r\n          <TileLayer\r\n            attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n          />\r\n          <MapController center={selected?.location?.coordinates} />\r\n          {filtered.map((issue) => (\r\n            <Marker\r\n              key={issue.id}\r\n              position={[issue.location.coordinates.lat, issue.location.coordinates.lng]}\r\n              icon={createTypeIcon((issue.tags && issue.tags[0]) || '')}\r\n              eventHandlers={{\r\n                click: () => setSelected(issue)\r\n              }}\r\n            >\r\n              <Popup>{issue.title}</Popup>\r\n            </Marker>\r\n          ))}\r\n        </MapContainer>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OfficialPublicPortal;\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}